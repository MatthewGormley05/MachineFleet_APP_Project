#define _CRT_SECURE_NO_WARNINGS
#include<stdio.h>
#include<string.h>


void main()
{
	FILE* fp;
	char dept[20];
	int value;
	int numInputs;
	int totalShopSales = 0;
	int totalGrocery=0;
	int maxGrocery;
	int countGrocery = 0;

	int totalHardware = 0;
	int maxHardware;
	int countHardware = 0;

	int totalDrapery = 0;
	int maxDrapery;
	int countDrapery = 0;


	fp = fopen("DailySales.txt", "r");

	if (fp == NULL)
	{
		printf("Sorry Daily Sales is not available\n");
		return;
	}
	else
	{
		
		while (!feof(fp))
		{
			numInputs = fscanf(fp, "%s %d", dept, &value);
			if (numInputs == 2) //To confirm valid data....
			{
				printf("DEBUG %s %d\n", dept, value);

				totalShopSales = totalShopSales + value;

				if (strcmp(dept, "Hardware") == 0)
				{
					totalHardware = totalHardware + value;

					if (countHardware == 0)
						maxHardware = value;
					else if (value > maxHardware)
						maxHardware = value;

					countHardware++;

				}
				else if (strcmp(dept, "Grocery") == 0)
				{
					totalGrocery = totalGrocery + value;

					if (countGrocery == 0)
						maxGrocery = value;
					else if (value > maxGrocery)
						maxGrocery = value;

					countGrocery++;
				}
				else if (strcmp(dept, "Drapery") == 0)
				{
					totalDrapery = totalDrapery + value;

					if (countDrapery == 0)
						maxDrapery = value;
					else if (value > maxDrapery)
						maxDrapery = value;

					countDrapery++;

				}

			}
		}

		printf("Total Shop Sale is %d\n", totalShopSales);

		if (countGrocery > 0)
		{
			printf("Grocery Sales are %d\n", totalGrocery);
			printf("Max Grocery is %d\n", maxGrocery);
			printf("Average Grocery Sales is %.2f\n", totalGrocery/(float)countGrocery);
		}
		else
		{
			printf("Nothing was sold in the grocery\n");
		}

		if (countDrapery > 0)
		{
			printf("Drapery Sales are %d\n", totalDrapery);
			printf("Max Drapery is %d\n", maxDrapery);
			printf("Average Drapery Sales is %.2f\n", totalDrapery / (float)countDrapery);
		}
		else
		{
			printf("Nothing was sold in the Drapery\n");
		}

		if (countHardware > 0)
		{
			printf("Hardware Sales are %d\n", totalHardware);
			printf("Max Hardware is %d\n", maxHardware);
			printf("Average Hardware Sales is %.2f\n", totalHardware / (float)countHardware);
		}
		else
		{
			printf("Nothing was sold in the Hardware\n");
		}


		fclose(fp);
	}


}