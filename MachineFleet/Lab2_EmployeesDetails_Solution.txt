#define _CRT_SECURE_NO_WARNINGS
#include<stdio.h>
#include<stdlib.h>
#include<string.h>

typedef struct
{
	long empID;
	char name[30];
	int hoursWord;
	double hoursRate;
}employeeT;

void main()
{
	employeeT temp;
	int i, numNewEmployees;
	FILE* myFile;
	FILE* myFile2;
	int numInputs;


	//This is where I will put the reading from a file....
	myFile = fopen("Employees.txt", "r");

	if (myFile == NULL)
	{
		printf("Sorry the employee file could not be opened\n");
		
	}
	else
	{
		while (!feof(myFile))
		{
			numInputs = fscanf(myFile, "%ld %s %d %lf", &temp.empID, temp.name, &temp.hoursWord, &temp.hoursRate);

			if (numInputs == 4)//Valid Data
			{
				printf("ID: %d Name %s Hours Worked %d Hourly Rate %lf\n", temp.empID, temp.name, temp.hoursWord, temp.hoursRate);
			}
		}


		fclose(myFile);
	}

	printf("Please tell me how many new employee you wish to add\n");
	scanf("%d", &numNewEmployees);

	myFile = fopen("Employees.txt", "a");
	myFile2 = fopen("EmployeeReport.txt", "a");

	if (myFile == NULL || myFile2 == NULL)
	{
		printf("Sorry nothing can be added to file at this moment\n");
	}
	else
	{
		for (i = 0;i < numNewEmployees;i++)
		{
			printf("Please enter the employee ID, name, hours worked and hourly rate\n");
			scanf("%ld %s %d %lf", &temp.empID, temp.name, &temp.hoursWord, &temp.hoursRate);

			fprintf(myFile, "%ld %s %d %lf\n", temp.empID, temp.name, temp.hoursWord, temp.hoursRate);

			fprintf(myFile2, "Emp ID: %d\n", temp.empID);
			fprintf(myFile2, "Emp Name %s\n", temp.name);
		}


		fclose(myFile);
		fclose(myFile2);
	}

};